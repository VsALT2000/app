(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[3],{298:function(e,n,t){e.exports={container:"Users_container__PiPpL",users:"Users_users__yvoZR"}},299:function(e,n,t){e.exports={user:"User_user__3P4F8",container:"User_container__1ejiX",avatar:"User_avatar__2Q7YW App_avatar__EAxxR",profile_avatar:"User_profile_avatar__nBUQr",image:"User_image__TtvG8 App_image__3Ywt2",profile_info:"User_profile_info__Xvd84",action_container:"User_action_container__1AHss"}},300:function(e,n,t){e.exports={pages:"Paginator_pages__23GeB",selectedPage:"Paginator_selectedPage__RaGKS"}},301:function(e,n,t){e.exports={container_load:"UsersContainer_container_load__MlHl1 App_container_load__3tHFp"}},304:function(e,n,t){"use strict";t.r(n);var r=t(3),a=t(28),s=t(29),o=t(31),i=t(30),c=t(13),u=t(112),l=t(1),p=t.n(l),f=t(298),g=t.n(f),d=t(299),h=t.n(d),_=t(59),j=t(22),v=t(0),b=function(e){return Object(v.jsxs)("div",{className:h.a.user,children:[Object(v.jsx)("div",{className:"".concat(h.a.avatar," ").concat(h.a.profile_avatar),children:Object(v.jsx)("img",{className:h.a.image,src:e.user.photos.large||_.a,alt:"avatar"})}),Object(v.jsxs)("div",{className:h.a.container,children:[Object(v.jsx)("div",{className:h.a.profile_info,children:Object(v.jsx)("h3",{children:Object(v.jsx)(j.b,{to:"/profile/".concat(e.user.id),children:e.user.name})})}),Object(v.jsx)("div",{className:h.a.action_container,children:e.user.followed?Object(v.jsx)("button",{disabled:!e.isAuth||e.followingInProgress.some((function(n){return n===e.user.id})),onClick:function(){e.deleteFollowTC(e.user.id)},children:"Unfollow"}):Object(v.jsx)("button",{disabled:!e.isAuth||e.followingInProgress.some((function(n){return n===e.user.id})),onClick:function(){e.postFollowTC(e.user.id)},children:"Follow"})})]})]})},m=t(300),x=t.n(m),C=function(e){var n=Math.ceil(e.totalItemsCount/e.pageSize),t=[];if(0!==n&&(t.push(1),n>=2)){for(var r=Math.max(e.currentPage-2,2),a=Math.min(e.currentPage+2,n-1),s=r;s<=a;s++)t.push(s);t.push(n)}return Object(v.jsx)("div",{className:x.a.pages,children:t.map((function(n){return Object(v.jsx)("div",{className:e.currentPage===n&&x.a.selectedPage,onClick:function(){e.onPageChanged(n)},children:Object(v.jsx)("span",{children:n})})}))})},O=function(e){return Object(v.jsxs)("div",{className:g.a.container,children:[Object(v.jsx)("div",{className:g.a.users,children:e.users.map((function(n){return Object(v.jsx)(b,{user:n,postFollowTC:e.postFollowTC,deleteFollowTC:e.deleteFollowTC,followingInProgress:e.followingInProgress,isAuth:e.isAuth})}))}),Object(v.jsx)(C,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged})]})},P=t(301),w=t.n(P),U=t(62),y=t(10);function F(e,n){return e===n}function A(e,n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,a=0;a<r;a++)if(!e(n[a],t[a]))return!1;return!0}function T(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return n}var N=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=0,o=r.pop(),i=T(r),c=e.apply(void 0,[function(){return s++,o.apply(null,arguments)}].concat(t)),u=e((function(){for(var e=[],n=i.length,t=0;t<n;t++)e.push(i[t].apply(null,arguments));return c.apply(null,e)}));return u.resultFunc=o,u.dependencies=i,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,t=null,r=null;return function(){return A(n,t,arguments)||(r=e.apply(null,arguments)),t=arguments,r}}));var S=function(e){return e.usersData.items},I=(N((function(e,n){return n.filter((function(){return!0}))}),null),function(e){return e.usersData.pageSize}),k=function(e){return e.usersData.totalUsersCount},z=function(e){return e.usersData.currentPage},D=function(e){return e.usersData.isFetching},M=function(e){return e.usersData.followingInProgress},R=function(e){return e.auth.isAuth},G=function(e){Object(o.a)(t,e);var n=Object(i.a)(t);function t(){var e;Object(a.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=n.call.apply(n,[this].concat(s))).onPageChanged=function(n){return e.props.updateUsersTC(n,e.props.pageSize)},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.setUsersTC(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:w.a.container_load,children:[this.props.isFetching?Object(v.jsx)(U.a,{isFetching:this.props.isFetching}):null,Object(v.jsx)(O,Object(r.a)(Object(r.a)({},this.props),{},{onPageChanged:this.onPageChanged}))]})}}]),t}(p.a.Component);n.default=Object(y.d)(Object(c.b)((function(e){return{users:S(e),pageSize:I(e),totalUsersCount:k(e),currentPage:z(e),isFetching:D(e),followingInProgress:M(e),isAuth:R(e)}}),{setUsersTC:u.d,updateUsersTC:u.e,postFollowTC:u.c,deleteFollowTC:u.b}))(G)}}]);
//# sourceMappingURL=3.44995ad1.chunk.js.map